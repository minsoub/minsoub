<!DOCTYPEHTML>
<html>
<head>

<script language="javascript">
<!--
    // global constants
    // Variable to hold the entire game context
    var context;
    
    // specifying the with and height of our game area, we'll use the complete canvas
    // in this case
    var width = 300;
    var Height = 400;
    
    // Specify the initial game configuration
    var snakeLength = 3;    // initial length of snake is set to 3
    var level = 1;          // start from level 1
    var sqSize = 10;        // step size is 10px. Also size of single body unit
    
    /***************************************/
     * Specify the initial snake alignment and direction of movement
     * Snake is starts horizontal moving towards its right
     ***************************************/
    // array to manage X coordinates for snake body
    var bodyX = new Array(150, 150-sqSize, 150-2*sqSize);
    
    // array to manage Y coordinates for snake body
    var bodyY = new Array(200, 200, 200);
    var vX = new Array(1, 1, 1);    // array to manage horizontal velocity for snake body
    var vY = new Array(0, 0, 0);    // array to manage vertical velocity for snake body
    // variables used to put rats on the canvas
    var rX;
    var rY;
    // keeping the score
    var score = 0;
    
    // to hold the context of div used to display score and level
    var scoreDiv;
    
    // to check if new rat needs to be placed
    var eaten = true;
    
    // to check if the game is over and enable control to restart the game
    var gameOver = false;
    
    // to hold the context of div used to display game controls
    var controlsDiv;
    
    
    /* ***************************************** /
     * in 1  =jscriptitially it was meat to mark the canvas boundary
     * but this take the background color of the page (black for my blog)
     * so now am filling canvas white 
     * **************************************** */
     function drawCanvasBoundary()
     {
         // set canvas color to be write
         context.fillStyle="#FFF";
         // draws a rectangle of canvas size filled with white color.
         // This serves as our background
         context.fillRect(0, 0, width, height);
         context.fill();
         
         /* Draw black boundary if working in white background */
         context.strokeStyle = "#000";
         context.strokeRect(0, 0, width, height);
         	
     }
     
     /* *************************************** /
      * Draws each body part of the snake
      * x, y = provides the body position
      * ************************************** */
      function drawPoint(x, y)
      {
      	 // First draw a square for size "sqSize" filled with black
      	 context.fillStyle = "#000";
      	 context.fillRect(x, y, sqSize, sqSize);
      	 context.fill();
      	 // Then draw the square boundary in white
      	 context.strokeStyle = "#FFFFFF";
      	 context.strokeRect(x, y, sqSize, sqSize);
      }
      
      /* ************************************** /
       * Draws snake by calling the helper drawPoint function
       * ************************************* */
      function drawSnake()
      {
      	 for (var i=0; i<snakeLength; i++)
      	     drawPoint(bodyX[i], bodyY[i]);
      }
      
      /* ************************************** /
       * If the rat was eaten, it calculates new rat coordinates,
       * check for collision with snake body and places new rat on canvas
       * ************************************** */
       function moveSnake()
       {
          for (var i=0; i<snakeLength; i++)
          {
          	  bodyX[i] += (vX[i]*sqSize);
          	  bodyY[i] += (vY[i]*sqSize);
          }	
          for (var i=snakeLength-1; i>0; i--)
          {
          	  vX[i] = vX[i-1];
          	  vY[i] = vY[i-1];
          }
          // eatRat();  -- Lets hide it for time being, we shall address this later
       }
       
      /* ************************************** /
       * Handles keyboard events to control snake
       * It only acknowledges the arrow keys and ignores the remaining
       * Calculate the new valid direction for snake head
       * for instance - if snake is moving right, it cannot move left even
       * if left arrow is pressed
       * ************************************* */
       function keydown(E)
       {
       	   
       }
      
      /* ************************************** /
       * Initialize the game variables and the game context
       * and then sends the game to the main game loop
       * ************************************* */
       function init()
       {
          // Get game context
          context = document.getElementById("canvas").getContext("2d");
          // draws the canvas
          drawCanvasBoundary();
          // draws snake
          drawSnake();	
       }
       // insert the listener for onload event to call our init function
       window.addEventListener("load", init, true);
//-->
</script>

</head>

<body>

  <div id="wrapper">
     <h1>Snake</h1>
     <div id="score">Score:0		Level:1</div>
     <canvas width="300" height="400" id="canvas">
     </canvas>
     <div id="control">Controls: W = Up; A = Left; S = Down; D = Right</div>
  </div>

</body>

</html>